<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Browser</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/react@17.0.2/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@17.0.2/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/react-router-dom@5.2.0/umd/react-router-dom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/babel-standalone@6/babel.min.js"></script>
    <style>
        body {
            background-color: #1e293b;
            color: white;
        }
        .game-card {
            transition: transform 0.3s ease;
        }
        .game-card:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { BrowserRouter, Route, Switch, Link } = ReactRouterDOM;

        // Initial Games Data
        const initialGames = [
            {
                id: 1,
                title: "Baldur's Gate 3",
                image: "/api/placeholder/300/200?text=Baldur's+Gate+3",
                category: ['Tất cả', 'Nhập vai']
            },
            {
                id: 2,
                title: "Assassin's Creed Shadows",
                image: "/api/placeholder/300/200?text=Assassin's+Creed+Shadows",
                category: ['Tất cả', 'Hành động']
            },
            {
                id: 3,
                title: "The Elder Scrolls IV: Oblivion",
                image: "/api/placeholder/300/200?text=Elder+Scrolls+Oblivion",
                category: ['Tất cả', 'Nhập vai']
            }
        ];

        // Home/Index Page Component
        const GameBrowser = () => {
            const [activeCategory, setActiveCategory] = React.useState('Tất cả');
            const [games] = React.useState(initialGames);

            const categories = [
                'Tất cả', 'Game Hot', 'Hành động', 'Nhập vai', 'Chiến thuật', 'Thể thao', 'Thể loại khác'
            ];

            return (
                <div className="container mx-auto px-4 py-8">
                    <div className="flex justify-between items-center mb-6">
                        <h1 className="text-3xl font-bold">Game Browser</h1>
                        <Link 
                            to="/admin" 
                            className="bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700"
                        >
                            Đăng nhập Quản trị
                        </Link>
                    </div>

                    <div className="search-bar mb-6">
                        <input 
                            type="text" 
                            placeholder="Tìm kiếm game..."
                            className="w-full px-4 py-2 rounded-full bg-gray-700 text-white"
                        />
                    </div>

                    <div className="category-filter flex space-x-2 mb-6 overflow-x-auto">
                        {categories.map((category) => (
                            <button
                                key={category}
                                className={`px-4 py-2 rounded-full ${
                                    activeCategory === category 
                                    ? 'bg-purple-600 text-white' 
                                    : 'bg-gray-700 text-gray-300'
                                }`}
                                onClick={() => setActiveCategory(category)}
                            >
                                {category}
                            </button>
                        ))}
                        <div className="ml-auto">
                            <button className="px-4 py-2 bg-gray-700 rounded-full flex items-center">
                                Áp dụng lọc giá
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fillRule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clipRule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div className="game-grid grid grid-cols-3 gap-6">
                        {games
                            .filter(game => game.category.includes(activeCategory))
                            .map((game) => (
                            <div 
                                key={game.title} 
                                className="game-card bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer"
                            >
                                <img 
                                    src={game.image} 
                                    alt={game.title} 
                                    className="w-full h-64 object-cover"
                                />
                                <div className="p-4">
                                    <h3 className="text-lg font-bold">{game.title}</h3>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // Admin Page Component
        const AdminPanel = () => {
            const [games, setGames] = React.useState(initialGames);
            const [newGame, setNewGame] = React.useState({
                title: '',
                image: '',
                category: []
            });
            const [adminPassword, setAdminPassword] = React.useState('');
            const [isLoggedIn, setIsLoggedIn] = React.useState(false);

            const categories = [
                'Tất cả', 'Game Hot', 'Hành động', 'Nhập vai', 'Chiến thuật', 'Thể thao', 'Thể loại khác'
            ];

            const handleLogin = () => {
                // Simple admin password check (in a real app, use proper authentication)
                if (adminPassword === 'admin123') {
                    setIsLoggedIn(true);
                } else {
                    alert('Mật khẩu không đúng');
                }
            };

            const handleAddGame = () => {
                // Validate input
                if (!newGame.title || newGame.category.length === 0) {
                    alert('Vui lòng nhập đầy đủ thông tin');
                    return;
                }

                // Add new game
                const gameToAdd = {
                    ...newGame,
                    id: games.length + 1,
                    image: newGame.image || `/api/placeholder/300/200?text=${encodeURIComponent(newGame.title)}`
                };

                setGames([...games, gameToAdd]);
                
                // Reset form
                setNewGame({ title: '', image: '', category: [] });
            };

            const handleCategoryToggle = (category) => {
                setNewGame(prev => {
                    const currentCategories = prev.category;
                    const newCategories = currentCategories.includes(category)
                        ? currentCategories.filter(cat => cat !== category)
                        : [...currentCategories, category];
                    
                    return { ...prev, category: newCategories };
                });
            };

            const handleDeleteGame = (gameId) => {
                setGames(games.filter(game => game.id !== gameId));
            };

            // Login Screen
            if (!isLoggedIn) {
                return (
                    <div className="container mx-auto px-4 py-8 max-w-md">
                        <div className="bg-gray-800 rounded-lg p-6">
                            <h2 className="text-2xl font-bold mb-4 text-white">Đăng Nhập Quản Trị</h2>
                            <input 
                                type="password" 
                                value={adminPassword}
                                onChange={(e) => setAdminPassword(e.target.value)}
                                className="w-full px-3 py-2 mb-4 bg-gray-700 text-white rounded"
                                placeholder="Nhập mật khẩu"
                            />
                            <div className="flex justify-between">
                                <button 
                                    onClick={handleLogin}
                                    className="bg-green-600 text-white px-4 py-2 rounded-full hover:bg-green-700"
                                >
                                    Đăng Nhập
                                </button>
                                <Link 
                                    to="/" 
                                    className="bg-gray-600 text-white px-4 py-2 rounded-full hover:bg-gray-700"
                                >
                                    Quay Lại
                                </Link>
                            </div>
                        </div>
                    </div>
                );
            }

            // Admin Panel
            return (
                <div className="container mx-auto px-4 py-8">
                    <div className="flex justify-between items-center mb-6">
                        <h1 className="text-3xl font-bold">Quản Trị Game</h1>
                        <Link 
                            to="/" 
                            className="bg-gray-600 text-white px-4 py-2 rounded-full hover:bg-gray-700"
                        >
                            Trang Chủ
                        </Link>
                    </div>

                    <div className="grid md:grid-cols-2 gap-8">
                        {/* Add Game Section */}
                        <div className="bg-gray-800 rounded-lg p-6">
                            <h2 className="text-2xl font-bold mb-4 text-white">Thêm Game Mới</h2>
                            
                            <div className="mb-4">
                                <label className="block text-white mb-2">Tên Game</label>
                                <input 
                                    type="text" 
                                    value={newGame.title}
                                    onChange={(e) => setNewGame(prev => ({...prev, title: e.target.value}))}
                                    className="w-full px-3 py-2 bg-gray-700 text-white rounded"
                                    placeholder="Nhập tên game"
                                />
                            </div>

                            <div className="mb-4">
                                <label className="block text-white mb-2">Đường dẫn Ảnh (Tùy chọn)</label>
                                <input 
                                    type="text" 
                                    value={newGame.image}
                                    onChange={(e) => setNewGame(prev => ({...prev, image: e.target.value}))}
                                    className="w-full px-3 py-2 bg-gray-700 text-white rounded"
                                    placeholder="Nhập URL ảnh game"
                                />
                            </div>

                            <div className="mb-4">
                                <label className="block text-white mb-2">Chọn Thể Loại</label>
                                <div className="flex flex-wrap gap-2">
                                    {categories.filter(cat => cat !== 'Tất cả').map((category) => (
                                        <button
                                            key={category}
                                            onClick={() => handleCategoryToggle(category)}
                                            className={`px-3 py-1 rounded-full ${
                                                newGame.category.includes(category)
                                                ? 'bg-purple-600 text-white' 
                                                : 'bg-gray-700 text-gray-300'
                                            }`}
                                        >
                                            {category}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <button 
                                onClick={handleAddGame}
                                className="w-full bg-green-600 text-white py-2 rounded-full hover:bg-green-700"
                            >
                                Thêm Game
                            </button>
                        </div>

                        {/* Game List Section */}
                        <div className="bg-gray-800 rounded-lg p-6">
                            <h2 className="text-2xl font-bold mb-4 text-white">Danh Sách Game</h2>
                            <div className="space-y-4">
                                {games.map((game) => (
                                    <div 
                                        key={game.id} 
                                        className="flex items-center bg-gray-700 rounded-lg p-4"
                                    >
                                        <img 
                                            src={game.image} 
                                            alt={game.title} 
                                            className="w-16 h-16 object-cover rounded mr-4"
                                        />
                                        <div className="flex-grow">
                                            <h3 className="text-lg font-bold">{game.title}</h3>
                                            <p className="text-sm text-gray-400">
                                                {game.category.filter(cat => cat !== 'Tất cả').join(', ')}
                                            </p>
                                        </div>
                                        <button 
                                            onClick={() => handleDeleteGame(game.id)}
                                            className="bg-red-600 text-white p-2 rounded-full hover:bg-red-700"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                                <path fillRule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd" />
                                            </svg>
                                        </button>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App Component with Routing
        const App = () => {
            return (
                <BrowserRouter>
                    <Switch>
                        <Route exact path="/" component={GameBrowser} />
                        <Route path="/admin" component={AdminPanel} />
